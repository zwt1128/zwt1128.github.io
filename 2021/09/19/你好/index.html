<!DOCTYPE html><html lang="zn-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vue3.0 | zwt's blog</title><meta name="keywords" content="博客"><meta name="author" content="zwt"><meta name="copyright" content="zwt"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="这是前端三大框架之一的Vue">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue3.0">
<meta property="og:url" content="https://zwt1128.github.io/2021/09/19/%E4%BD%A0%E5%A5%BD/index.html">
<meta property="og:site_name" content="zwt&#39;s blog">
<meta property="og:description" content="这是前端三大框架之一的Vue">
<meta property="og:locale" content="zn_CN">
<meta property="og:image" content="https://zwt1128.github.io/img/3.jpg">
<meta property="article:published_time" content="2021-09-19T12:00:34.000Z">
<meta property="article:modified_time" content="2022-02-20T11:52:43.278Z">
<meta property="article:author" content="zwt">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zwt1128.github.io/img/3.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zwt1128.github.io/2021/09/19/%E4%BD%A0%E5%A5%BD/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"改文章创建于","messageNext":"天前，请以最新文章为准。"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: zwt","link":"Link: ","source":"Source: zwt's blog","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue3.0',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-20 19:52:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/wx.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/3.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">zwt's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue3.0</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-09-19T12:00:34.000Z" title="Created 2021-09-19 20:00:34">2021-09-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-02-20T11:52:43.278Z" title="Updated 2022-02-20 19:52:43">2022-02-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">5.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>26min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue3.0"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-Vue-cli脚手架介绍"><a href="#1-Vue-cli脚手架介绍" class="headerlink" title="1. Vue/cli脚手架介绍"></a>1. Vue/cli脚手架介绍</h2><p>vue-cli是vue官网提供的一个脚手架，这个构建工具大大降低了webpack的使用难度，支持热更新，有webpack-dev-server的支持，相当于启动了一个请求服务器，给你搭建了一个测试环境，只关注开发就OK</p>
<h3 id="1-1-安装vue-cli创建Vue2-x项目"><a href="#1-1-安装vue-cli创建Vue2-x项目" class="headerlink" title="1.1 安装vue-cli创建Vue2.x项目"></a>1.1 安装vue-cli创建Vue2.x项目</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.之前安装过vue的2.0版本，你需要把2.0相关的删除  npm uni -g vue-cli</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.安装vue/cli脚架  npm i -g @vue/cli@4.5.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.将配置环境变量  C:\dev\nodejs</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.检查版本号,目前安装vuecli 4.5.8    vue -V</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.创建项目  vue create project-name</span></span><br><span class="line">    选择vue2x</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//查看最终生效的 webpack 配置信息</span><br><span class="line">vue inspect &gt; output.js</span><br><span class="line"></span><br><span class="line">//配置文件参考文档</span><br><span class="line">https://cli.vuejs.org/zh/config/#devserver-proxy</span><br><span class="line"></span><br><span class="line">//运行App</span><br><span class="line">npm run serve</span><br><span class="line"></span><br><span class="line">//编译App</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<h3 id="1-2-windows-32位-npm装不上vue-cli的问题"><a href="#1-2-windows-32位-npm装不上vue-cli的问题" class="headerlink" title="1.2 windows(32位) npm装不上vue/cli的问题"></a>1.2 windows(32位) npm装不上vue/cli的问题</h3><ul>
<li>配置环境变量到path</li>
</ul>
<h3 id="1-3-vue-config-js配置"><a href="#1-3-vue-config-js配置" class="headerlink" title="1.3 vue.config.js配置"></a>1.3 vue.config.js配置</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//官网配置： https://cli.vuejs.org/zh/config/#filenamehashing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = require(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> debug = process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//部署应用包时的基本URL，如果是生产环境，部署到 /cli-study/dist 路径；如果是开发环境，部署到根路径</span></span><br><span class="line">  publicPath: !debug</span><br><span class="line">      ? <span class="string">&#x27;/cli-study/dist&#x27;</span></span><br><span class="line">      : <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">  <span class="comment">//输出文件路径</span></span><br><span class="line">  outputDir: <span class="string">&#x27;dist&#x27;</span>,</span><br><span class="line">  <span class="comment">//放置生成的静态资源 (js、css、img、fonts) 的 (相对于 outputDir 的) 目录。</span></span><br><span class="line">  assetsDir: <span class="string">&#x27;static&#x27;</span>,</span><br><span class="line">  <span class="comment">//默认情况下，生成的静态资源在它们的文件名中包含了 hash 以便更好的控制缓存</span></span><br><span class="line">  filenameHashing: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// eslint-loader 是否在保存的时候检查</span></span><br><span class="line">  lintOnSave: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 是否使用包含运行时编译器的Vue构建版本，设置为 true 后你就可以在 Vue 组件中使用 template 选项了，但是这会让你的应用额外增加 10kb 左右。</span></span><br><span class="line">  runtimeCompiler: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 默认情况下 babel-loader 会忽略所有 node_modules 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。</span></span><br><span class="line">  transpileDependencies: [],</span><br><span class="line">  <span class="comment">// 生产环境不需要sourceMap</span></span><br><span class="line">  productionSourceMap: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 官网：https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F</span></span><br><span class="line">  <span class="comment">// 更多配置参考：https://www.jb51.net/article/150844.htm</span></span><br><span class="line">  configureWebpack: config =&gt; &#123;</span><br><span class="line">    Object.assign(config, &#123; <span class="comment">// 开发生产共同配置</span></span><br><span class="line">      resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">          <span class="string">&#x27;@&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;./src&#x27;</span>),</span><br><span class="line">          <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// webpack的链式操作，允许对内部的 webpack 配置进行更细粒度的修改</span></span><br><span class="line">  <span class="comment">// 参考： https://cli.vuejs.org/zh/guide/webpack.html#%E9%93%BE%E5%BC%8F%E6%93%8D%E4%BD%9C-%E9%AB%98%E7%BA%A7</span></span><br><span class="line">  chainWebpack: (config) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (debug) &#123;</span><br><span class="line">      <span class="comment">// 本地开发配置</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 生产开发配置</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// css的相关配置</span></span><br><span class="line">  css: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//所有 webpack-dev-server 的选项都支持</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    open: <span class="literal">true</span>,</span><br><span class="line">    host: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port: <span class="number">3000</span>,</span><br><span class="line">    https: <span class="literal">false</span>,</span><br><span class="line">    hotOnly: <span class="literal">false</span>,</span><br><span class="line">    proxy: null,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 第三方插件配置</span></span><br><span class="line">  pluginOptions: &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-Eslint格式化-vue文件"><a href="#1-4-Eslint格式化-vue文件" class="headerlink" title="1.4 Eslint格式化.vue文件"></a>1.4 Eslint格式化.vue文件</h3><p>ESLint是一个用来识别 ECMAScript 并且按照规则给出报告的代码检测工具，使用它可以避免低级错误和统一代码的风格。</p>
<p>你可能有疑问，在.vue 文件中你怎么检验你的代码，因为它不是 。我们假设你使用 ESLint (如果你没有使用话，你应该去使用！)。</p>
<p>你还需要官方的 eslint-plugin-vue，它支持同时检查你.vue文件中的模板和脚本。</p>
<p><a target="_blank" rel="noopener" href="https://vue-loader-v14.vuejs.org/zh-cn/workflow/linting.html">https://vue-loader-v14.vuejs.org/zh-cn/workflow/linting.html</a></p>
<h3 id="eslint配置-rules规则"><a href="#eslint配置-rules规则" class="headerlink" title="eslint配置(rules规则)"></a>eslint配置(rules规则)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 关闭必须使用单引号</span></span><br><span class="line"><span class="string">&quot;quotes&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;single&quot;</span>],</span><br><span class="line"><span class="comment">// 允许多余的换行</span></span><br><span class="line"><span class="string">&quot;no-multi-spaces&quot;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;no-console&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;error&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;no-debugger&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;error&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;prefer-promise-reject-errors&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;space-unary-ops&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;no-unused-expressions&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;no-useless-return&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;standard/no-callback-literal&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;import/first&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;import/export&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;no-mixed-operators&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"><span class="string">&#x27;no-use-before-define&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许使用分号</span></span><br><span class="line"><span class="string">&#x27;semi&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许使用==</span></span><br><span class="line"><span class="string">&#x27;eqeqeq&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缩进使用不做限制</span></span><br><span class="line"><span class="string">&#x27;indent&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许使用tab</span></span><br><span class="line"><span class="string">&#x27;no-tabs&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数圆括号之前没有空格</span></span><br><span class="line"><span class="string">&#x27;space-before-function-paren&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不要求块内空格填充格式</span></span><br><span class="line"><span class="string">&#x27;padded-blocks&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不限制变量一起声明</span></span><br><span class="line"><span class="string">&#x27;one-var&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 条件语句中复制操作符需要用圆括号括起来</span></span><br><span class="line"><span class="string">&#x27;no-cond-assign&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;except-parens&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许使用条件表达式使用常量</span></span><br><span class="line"><span class="string">&#x27;no-constant-condition&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单行可忽略大括号，多行不可忽略</span></span><br><span class="line"><span class="string">&#x27;curly&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;multi-line&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许使用var变量</span></span><br><span class="line"><span class="string">&#x27;no-var&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许出现多个空格</span></span><br><span class="line"><span class="string">&#x27;no-multi-spaces&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, &#123; ignoreEOLComments: <span class="literal">true</span> &#125;],</span><br><span class="line"><span class="string">&#x27;camelcase&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象字面量的键值空格风格</span></span><br><span class="line"><span class="string">&#x27;key-spacing&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// if语句包含一个return语句， else就多余</span></span><br><span class="line"><span class="string">&#x27;no-else-return&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建议将经常出现的数字提取为变量</span></span><br><span class="line"><span class="string">&#x27;no-magic-numbers&#x27;</span>: [<span class="number">0</span>, &#123; ignoreArrayIndexes: <span class="literal">true</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许重复声明变量</span></span><br><span class="line"><span class="string">&#x27;no-redeclare&#x27;</span>: [<span class="number">2</span>, &#123; builtinGlobals: <span class="literal">true</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 立即执行函数风格</span></span><br><span class="line"><span class="string">&#x27;wrap-iife&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;inside&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许圆括号中出现空格</span></span><br><span class="line"><span class="string">&#x27;space-in-parens&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 确保运算符周围有空格</span></span><br><span class="line"><span class="string">&#x27;space-infix-ops&#x27;</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 强制点号与属性同一行</span></span><br><span class="line"><span class="string">&#x27;dot-location&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;property&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 强制单行代码使用空格</span></span><br><span class="line"><span class="string">&#x27;block-spacing&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 约束for-in使用hasOwnProperty判断</span></span><br><span class="line"><span class="string">&#x27;guard-for-in&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 采用one true brace style大括号风格</span></span><br><span class="line"><span class="string">&#x27;brace-style&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;1tbs&#x27;</span>, &#123; <span class="string">&#x27;allowSingleLine&#x27;</span>: <span class="literal">true</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 统一逗号周围空格风格</span></span><br><span class="line"><span class="string">&#x27;comma-spacing&#x27;</span>: [<span class="number">2</span>, &#123; <span class="string">&#x27;before&#x27;</span>: <span class="literal">false</span>, <span class="string">&#x27;after&#x27;</span>: <span class="literal">true</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 禁止出现多个空行</span></span><br><span class="line"><span class="string">&#x27;no-multiple-empty-lines&#x27;</span>: [<span class="number">2</span>, &#123; <span class="string">&#x27;max&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;maxEOF&#x27;</span>: <span class="number">2</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许箭头函数不使用圆括号</span></span><br><span class="line"><span class="string">&#x27;arrow-parens&#x27;</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 规范generator函数的使用</span></span><br><span class="line"><span class="string">&#x27;generator-star-spacing&#x27;</span>: [<span class="number">2</span>, &#123; <span class="string">&#x27;before&#x27;</span>: <span class="literal">false</span>, <span class="string">&#x27;after&#x27;</span>: <span class="literal">true</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment">// 要求在块级</span></span><br><span class="line"><span class="string">&#x27;lines-around-comment&#x27;</span>: [<span class="number">2</span>, &#123; <span class="string">&#x27;beforeBlockComment&#x27;</span>: <span class="literal">true</span>, <span class="string">&#x27;afterBlockComment&#x27;</span>: <span class="literal">false</span>, <span class="string">&#x27;beforeLineComment&#x27;</span>: <span class="literal">true</span>, <span class="string">&#x27;afterLineComment&#x27;</span>: <span class="literal">false</span> &#125;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;off&quot;</span>或者<span class="number">0</span>，不启用这个规则</span><br><span class="line"><span class="string">&quot;warn&quot;</span>或者<span class="number">1</span>，出现问题会有警告</span><br><span class="line"><span class="string">&quot;error&quot;</span>或者<span class="number">2</span>，出现问题会报错</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vscode中通过  npm run lint会自动进行eslint的校验和修正</span><br><span class="line">npm run lint --fix</span><br></pre></td></tr></table></figure>

<h2 id="2-Vue3-0介绍"><a href="#2-Vue3-0介绍" class="headerlink" title="2. Vue3.0介绍"></a>2. Vue3.0介绍</h2><p>官方文档：<a target="_blank" rel="noopener" href="https://vue-docs-next-zh-cn.netlify.app/-">https://vue-docs-next-zh-cn.netlify.app/-</a> - guide/installation.html</p>
<h3 id="2-1-Vue3-0-项目创建"><a href="#2-1-Vue3-0-项目创建" class="headerlink" title="2.1 Vue3.0 项目创建"></a>2.1 Vue3.0 项目创建</h3><p>创建:在命令窗口输入指令</p>
<ul>
<li>vue create 项目名称    </li>
<li>//选择vue3.x</li>
<li>//选择less</li>
</ul>
<h3 id="2-2-Vue-composition-API-函数式api"><a href="#2-2-Vue-composition-API-函数式api" class="headerlink" title="2.2 Vue composition API (函数式api)"></a>2.2 Vue composition API (函数式api)</h3><p>vue 3.0 的 Composition API 带来的最大的特性，就是函数组件。通过函数组件，我们可以体会到类似 react 编程的愉悦。</p>
<p>使用传统的option配置方法写组件的时候问题，随着业务复杂度越来越高，代码量会不断的加大；由于相关业务的代码需要遵循option的配置写到特定的区域(data、methods、computed)，导致后续维护非常的复杂，同时代码可复用性不高，而composition-api就是为了解决这个问题而生的</p>
<p>vue3.0 侧重于解决代码组织与逻辑复用问题</p>
<h3 id="2-2-1-defineComponent"><a href="#2-2-1-defineComponent" class="headerlink" title="2.2.1 defineComponent"></a>2.2.1 defineComponent</h3><p>在结合了 TypeScript 的情况下，传统的 Vue.extend 等定义方法无法对组件给出正确的参数类型推断，这就需要引入 defineComponent() 组件包装函数</p>
<h3 id="2-2-2-setup"><a href="#2-2-2-setup" class="headerlink" title="2.2.2 setup"></a>2.2.2 setup</h3><p>vue3.0将组件的逻辑都写在了函数内部，setup()会取代vue2.x的data()函数，返回一个对象暴露给模板。</p>
<p>setup函数的特性：</p>
<ul>
<li>使用Composition API 的入口</li>
<li>在beforeCreate之前调用</li>
<li>在setup中没有this (函数组件)</li>
<li>可以返回一个对象，这个对象的属性被合并到渲染上下文，并可以在模板中直接使用；</li>
<li>接收props对象作为第一个参数，接收来的props对象，可以通过watch监视其变化。</li>
<li>接受context对象作为第二个参数，这个对象包含attrs，slots，emit三个属性。</li>
</ul>
<p>setup 函数是个新的入口函数，相当于 vue2.x 中 beforeCreate 和 created，在 beforeCreate 之后 created 之前执行。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = <span class="string">&quot;张晓明&quot;</span>;</span><br><span class="line">    let age = <span class="number">18</span>;</span><br><span class="line">    <span class="function">function <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        age += <span class="number">1</span>;</span><br><span class="line">        console.<span class="built_in">log</span>(age)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123; msg, age, add &#125;;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    姓名:&#123;&#123;msg&#125;&#125;</span><br><span class="line">    年龄:&#123;&#123;age&#125;&#125;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;add&quot;</span>&gt;点我年龄加<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据绑定的用法和之前vue语法一致</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-3-ref"><a href="#2-2-3-ref" class="headerlink" title="2.2.3 ref"></a>2.2.3 ref</h3><p>ref可以让某一个变量具备响应式的能力</p>
<p>ref 注意点:</p>
<ul>
<li>在 VUE 的模板中使用 ref 的值不需要通过 value 获取 （Vue 会通过自动给 ref 的值加上 .value）</li>
<li>在 js 中使用 ref 的值必须使用 .value 获取<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line">setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> msg = ref(<span class="string">&quot;张晓明&quot;</span>);</span><br><span class="line">    let age = ref(<span class="number">18</span>);</span><br><span class="line">    <span class="function">function <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      age.value += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123; msg, age, add &#125;;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-4-reactive"><a href="#2-2-4-reactive" class="headerlink" title="2.2.4 reactive"></a>2.2.4 reactive</h3><p>经过reactive函数处理后的对象能变成响应式的对象，类似于- option api里面的data属性的值，它主要是处理你的对象让它经过 Proxy 的加工变为一个响应式的对象。</p>
<p>注意点：</p>
<ul>
<li>如果想要保持对象内容的响应式能力，在 return 的时候必须把整个 reactive() 对象返回出去</li>
<li>在引用的时候也必须对整个对象进行引用而无法解构，否则这个对象内容的响应式能力将会丢失。</li>
<li>Vue2.x版本中 Vue 使用了 Object.defineProperty() 来劫持数据变化，Vue3.0中使用 Proxy 来劫持数据变化<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    名字:&#123;&#123; state.name &#125;&#125; 价格:&#123;&#123; state.price &#125;&#125;</span><br><span class="line">    购买数量:&#123;&#123;state.count&#125;&#125;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;add&quot;</span>&gt;点我加<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref, reactive &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> state = reactive(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      count: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      name:<span class="string">&quot;商品1&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      price:<span class="number">100</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;);</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//修改响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    function add() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      state.count += <span class="number">1</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; state, add &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-5-toRefs"><a href="#2-2-5-toRefs" class="headerlink" title="2.2.5 toRefs"></a>2.2.5 toRefs</h3>但是在具体的业务中，如果无法使用解构取出 reactive() 对象的值，每次都需要通过 state. 操作符访问它里面的属性会是非常麻烦的，所以官方提供了 toRefs() 函数来为我们填好这个坑。只要使用 toRefs() 把 reactive() 对象包装一下，就能够通过解构单独使用它里面的内容了，而此时的内容也依然维持着响应式的特性。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    名字:&#123;&#123; name &#125;&#125; 价格:&#123;&#123; price &#125;&#125;</span><br><span class="line">    购买数量:&#123;&#123;count&#125;&#125;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;add&quot;</span>&gt;点我加<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref, reactive,toRefs &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> state = reactive(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      count: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      name:<span class="string">&quot;商品1&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      price:<span class="number">100</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;);</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//修改响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    function add() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      state.count += <span class="number">1</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; ...toRefs(state), add &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-6-watch和computed"><a href="#2-2-6-watch和computed" class="headerlink" title="2.2.6 watch和computed"></a>2.2.6 watch和computed</h3><p>computed：该函数用来创造计算属性，和过去一样，它返回的值是一个ref对象。里面可以传方法，或者一个对象，对象中包含set()、get()方法</p>
<p>watch：属性监听，支持传三个参数</p>
<ul>
<li>想监听的数据，可以是数组形势，传入多个</li>
<li>监听数据的回调函数，该回调的参数有两个，前一个是newValue，后一个是oldValue，每一个都可以是一个数组，与之前的多个监听对应</li>
<li>监听的配置参数 是一个对象，如{ immediate: true }，这样可以让初次挂在时执行watch的回调<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    名字:&#123;&#123; name &#125;&#125; 价格:&#123;&#123; price &#125;&#125;</span><br><span class="line">    购买数量:&#123;&#123;count&#125;&#125;</span><br><span class="line">    双倍数量:&#123;&#123;<span class="keyword">double</span>&#125;&#125;</span><br><span class="line">    Title:&#123;&#123;title&#125;&#125;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;add&quot;</span>&gt;点我加<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;title = &#x27;123&#x27;&quot;</span>&gt;修改title&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref, reactive,toRefs,computed,watch &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> state = reactive(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      count: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      name:<span class="string">&quot;商品1&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">      price:<span class="number">100</span></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;);</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> title = ref(<span class="string">&quot;标题&quot;</span>)</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//计算属性</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> <span class="keyword">double</span> = computed(() =&gt; state.count * <span class="number">2</span>)</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//watch监听reactive数据</span></span></span></span><br><span class="line"><span class="params"><span class="function">    watch(()=&gt;state.count,(newCount,oldCount)=&gt;&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      console.<span class="built_in">log</span>(newCount,oldCount)</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;,&#123; immediate: <span class="literal">true</span> &#125;)</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//watch监听ref数据</span></span></span></span><br><span class="line"><span class="params"><span class="function">    watch(title,()=&gt;&#123;</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;)</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//watch监听一组数据变化</span></span></span></span><br><span class="line"><span class="params"><span class="function">    watch([title,()=&gt;state.count],([newTitle,newCount],[oldTitle,oldCount])=&gt;&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      console.<span class="built_in">log</span>(newTitle,newCount)</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;)</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//修改响应式对象</span></span></span></span><br><span class="line"><span class="params"><span class="function">    function add() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      state.count += <span class="number">1</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; ...toRefs(state),<span class="keyword">double</span>, add,title &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-7-props-和-context"><a href="#2-2-7-props-和-context" class="headerlink" title="2.2.7 props 和 context"></a>2.2.7 props 和 context</h3>在 Vue2.0 中我们可以使用 props 属性值完成父子通信，在这里我们需要定义 props 属性去定义接受值的类型，然后我们可以利用 setup 的第一个参数获取 props 使用。</li>
</ul>
<p>a) 父传子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    &lt;HelloWorld :msg=<span class="string">&quot;title&quot;</span>&gt;&lt;/HelloWorld&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;title = &#x27;123&#x27;&quot;</span>&gt;修改title&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref, reactive, toRefs, computed, watch, onMounted &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> HelloWorld from <span class="string">&#x27;@/components/HelloWorld.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    HelloWorld</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> title = ref(<span class="string">&quot;标题&quot;</span>);</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123;  title &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子组件</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;hello&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref,watch &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;HelloWorld&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  props: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    msg: String,</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup(props) &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//监听props中的msg变化</span></span></span></span><br><span class="line"><span class="params"><span class="function">    watch(()=&gt;props.msg,(newVal)=&gt;&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      console.<span class="built_in">log</span>(newVal)</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;)</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>b) 子传父</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line">setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> title = ref(<span class="string">&quot;标题&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> receiveFromChild = (msg: any) =&gt; &#123;</span><br><span class="line">        title.value = msg;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; title, receiveFromChild &#125;;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&lt;HelloWorld :msg=<span class="string">&quot;title&quot;</span> @func=<span class="string">&quot;receiveFromChild&quot;</span>&gt;&lt;/HelloWorld&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子组件</span></span><br><span class="line">&lt;button @click=<span class="string">&quot;send&quot;</span>&gt;向父亲传递数据&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//setup 函数的第二个参数是一个上下文对象，这个上下文对象中包含了一些有用的属性(slot attrs emit)，这些属性在 Vue2.0 中需要通过 this 才能访问到，在 vue3.0中需要通过context来访问：</span></span><br><span class="line"><span class="comment">//注意 vue3.0中没有组件对象，不能通过this来访问组件对象</span></span><br><span class="line">setup(props,context) &#123;</span><br><span class="line">    <span class="keyword">const</span> send = ()=&gt;&#123;</span><br><span class="line">        context.emit(<span class="string">&quot;func&quot;</span>,<span class="string">&quot;孩子的数据&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;send&#125;</span><br><span class="line">&#125;,</span><br><span class="line">c) provide和inject</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent,provide &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line">setup() &#123;</span><br><span class="line">    provide(<span class="string">&quot;list&quot;</span>,[<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;王五&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子组件</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, inject &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line">setup(props, context) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">list</span> = inject(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：provide和inject只能在setup()函数中使用</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-8-过滤器、自定义指令"><a href="#2-2-8-过滤器、自定义指令" class="headerlink" title="2.2.8 过滤器、自定义指令"></a>2.2.8 过滤器、自定义指令</h3><h3 id="a-过滤器"><a href="#a-过滤器" class="headerlink" title="a) 过滤器"></a>a) 过滤器</h3><p>vue3.0不再支持过滤器，官方建议我们用methods、computed来替换他们</p>
<h3 id="b-自定义指令"><a href="#b-自定义指令" class="headerlink" title="b) 自定义指令"></a>b) 自定义指令</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义全局指令</span></span><br><span class="line"><span class="keyword">const</span> app = Vue.createApp(&#123;&#125;)</span><br><span class="line">app.directive(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// 当被绑定的元素插入到 DOM 中时……</span></span><br><span class="line">  mounted(el) &#123;</span><br><span class="line">    el.focus()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义局部指令</span></span><br><span class="line">directives: &#123;</span><br><span class="line">  focus: &#123;</span><br><span class="line">    <span class="comment">// 指令的定义</span></span><br><span class="line">    mounted(el) &#123;</span><br><span class="line">      el.focus()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-9-ref引用页面元素"><a href="#2-2-9-ref引用页面元素" class="headerlink" title="2.2.9 ref引用页面元素"></a>2.2.9 ref引用页面元素</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> ref=<span class="string">&quot;inputRef&quot;</span> /&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;showRef&quot;</span>&gt;点我显示input内容&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> HelloWorld from <span class="string">&quot;@/components/HelloWorld.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    HelloWorld,</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> inputRef = ref();</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> showRef = () =&gt; &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      console.<span class="built_in">log</span>(inputRef.value &amp;&amp; inputRef.value.value);</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; inputRef, showRef &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-10-vue3-0生命周期钩子"><a href="#2-2-10-vue3-0生命周期钩子" class="headerlink" title="2.2.10 vue3.0生命周期钩子"></a>2.2.10 vue3.0生命周期钩子</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onMounted(()=&gt;&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="string">&quot;onMounted&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="2-3-vue-router的使用"><a href="#2-3-vue-router的使用" class="headerlink" title="2.3 vue-router的使用"></a>2.3 vue-router的使用</h3><h3 id="2-3-1-基本使用"><a href="#2-3-1-基本使用" class="headerlink" title="2.3.1 基本使用"></a>2.3.1 基本使用</h3><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/essentials/passing-props.html">https://router.vuejs.org/zh/guide/essentials/passing-props.html</a></p>
<p>router/index.ts</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//createRouter创建路由对象</span></span><br><span class="line"><span class="comment">//createWebHashHistory hash模式</span></span><br><span class="line"><span class="comment">//RouteRecordRaw每一条路由规则的类型文件</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory, RouteRecordRaw &#125; from <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">&#x27;../views/Home.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//路由规则</span></span><br><span class="line"><span class="keyword">const</span> routes: Array&lt;RouteRecordRaw&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    component: () =&gt; <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&#x27;../views/About.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHashHistory(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br><span class="line"><span class="comment">//main.ts挂载路由</span></span><br><span class="line">createApp(App).use(store).use(router).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//App.vue中使用 router-link和router-view</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/router-link&gt; |</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/about&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;router-view/&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-动态路由参数"><a href="#2-3-2-动态路由参数" class="headerlink" title="2.3.2 动态路由参数"></a>2.3.2 动态路由参数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.修改路由配置</span></span><br><span class="line"><span class="keyword">const</span> routes: Array&lt;RouteRecordRaw&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about/:id&#x27;</span>,</span><br><span class="line">    props: <span class="literal">true</span>,             <span class="comment">//如果 props 被设置为 true，route.params 将会被设置为组件属性</span></span><br><span class="line">    name: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    component: () =&gt; About</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.App.vue跳转路由传参</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/router-link&gt; |</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/about/123&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;router-view/&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.About.vue中使用动态路由参数</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;about&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;This is an about page &#123;&#123;$route.params.id&#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props:[<span class="string">&#x27;id&#x27;</span>],</span><br><span class="line">  created()&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="keyword">this</span>.id)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-3-路由传参"><a href="#2-3-3-路由传参" class="headerlink" title="2.3.3 路由传参"></a>2.3.3 路由传参</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.修改路由配置</span></span><br><span class="line"><span class="keyword">const</span> routes: Array&lt;RouteRecordRaw&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="comment">///search?q=vue 会将 &#123;query: &#x27;vue&#x27;&#125; 作为属性传递给 SearchUser 组件。</span></span><br><span class="line">    props: route =&gt; (&#123; query: route.query.q, query2: route.query.m &#125;),</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: () =&gt; About</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//App.vue</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/router-link&gt; |</span><br><span class="line">    &lt;router-link to=<span class="string">&quot;/about?q=vue&amp;m=123&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;router-view/&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//About.vue</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props:[<span class="string">&#x27;query&#x27;</span>,<span class="string">&#x27;query2&#x27;</span>],</span><br><span class="line">  created()&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="keyword">this</span>.query,<span class="keyword">this</span>.query2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-4-编程式导航"><a href="#2-3-4-编程式导航" class="headerlink" title="2.3.4 编程式导航"></a>2.3.4 编程式导航</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;about&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;This is an about page&lt;/h1&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;goHome&quot;</span>&gt;点我跳转页面&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useRouter &#125; from <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> goHome = () =&gt; &#123;</span><br><span class="line">      router.push(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123; goHome &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-5-导航钩子函数"><a href="#2-3-5-导航钩子函数" class="headerlink" title="2.3.5 导航钩子函数"></a>2.3.5 导航钩子函数</h3><h3 id="a-路由级的导航钩子"><a href="#a-路由级的导航钩子" class="headerlink" title="a) 路由级的导航钩子"></a>a) 路由级的导航钩子</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Array&lt;RouteRecordRaw&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    component: () =&gt; About,</span><br><span class="line">    <span class="comment">//路由级的导航钩子</span></span><br><span class="line">    beforeEnter:(to,from,next)=&gt;&#123;</span><br><span class="line">      console.<span class="built_in">log</span>(<span class="string">&quot;beforeEnter&quot;</span>,to,from,next)</span><br><span class="line">      next();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h3 id="b-全局的导航钩子"><a href="#b-全局的导航钩子" class="headerlink" title="b) 全局的导航钩子"></a>b) 全局的导航钩子</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  history: createWebHashHistory(),</span><br><span class="line">  routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局导航钩子</span></span><br><span class="line">router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&quot;全局前置 beforeEach&quot;</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;)</span><br><span class="line">router.afterEach( route =&gt; &#123;</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">&quot;全局后置 afterEach&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="c-组件级的导航钩子"><a href="#c-组件级的导航钩子" class="headerlink" title="c) 组件级的导航钩子"></a>c) 组件级的导航钩子</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, onMounted, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; onBeforeRouteLeave, onBeforeRouteUpdate, useRouter &#125; from <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> router = useRouter();</span><br><span class="line">    <span class="keyword">const</span> goHome = () =&gt; &#123;</span><br><span class="line">      router.push(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//组件级的导航钩子</span></span><br><span class="line">    onBeforeRouteLeave((to,from,next) =&gt; &#123;</span><br><span class="line">      console.<span class="built_in">log</span>(<span class="string">&quot;onBeforeRouteLeave&quot;</span>,to,from,next);</span><br><span class="line">      next();</span><br><span class="line">    &#125;);</span><br><span class="line">    onBeforeRouteUpdate((to,from,next) =&gt; &#123;</span><br><span class="line">      console.<span class="built_in">log</span>(<span class="string">&quot;onBeforeRouteUpdate&quot;</span>,next);</span><br><span class="line">      next();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; goHome &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-vuex的使用"><a href="#2-4-vuex的使用" class="headerlink" title="2.4 vuex的使用"></a>2.4 vuex的使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//store/index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; createStore &#125; from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">createStore</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  state: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    count: <span class="number">0</span></span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  mutations: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      increment(state) &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">          state.count++</span></span></span><br><span class="line"><span class="params"><span class="function">      &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">      subtract(state, obj) &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">          console.<span class="built_in">log</span>(obj)</span></span></span><br><span class="line"><span class="params"><span class="function">          state.count -= obj.step;</span></span></span><br><span class="line"><span class="params"><span class="function">      &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  getters: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      optCount: function (state) &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">          <span class="keyword">return</span> <span class="string">&#x27;当前最新的count值是：&#x27;</span> + state.count</span></span></span><br><span class="line"><span class="params"><span class="function">      &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  actions: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  modules: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//main.ts</span></span></span><br><span class="line"><span class="function"><span class="title">createApp</span><span class="params">(App)</span>.<span class="title">use</span><span class="params">(store)</span>.<span class="title">use</span><span class="params">(router)</span>.<span class="title">mount</span><span class="params">(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//Home.vue</span></span></span><br><span class="line"><span class="function">&lt;<span class="keyword">template</span>&gt;</span></span><br><span class="line"><span class="function">  &lt;div class</span>=<span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;count值是:&#123;&#123; state.count &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;getters值是:&#123;&#123; getters.optCount &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;doAdd&quot;</span>&gt;点我+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;doSub&quot;</span>&gt;点我-若干&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; computed, defineComponent, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useStore &#125; from <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> HelloWorld from <span class="string">&quot;@/components/HelloWorld.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    HelloWorld,</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment">//获取store中的信息</span></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> &#123; state, getters, dispatch, commit &#125; = useStore();</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> doAdd = () =&gt; &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      console.<span class="built_in">log</span>(<span class="string">&quot;doAdd&quot;</span>,commit)</span></span></span><br><span class="line"><span class="params"><span class="function">      commit(<span class="string">&quot;increment&quot;</span>);</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> doSub = () =&gt; &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      commit(<span class="string">&quot;subtract&quot;</span>, &#123; step: <span class="number">3</span> &#125;);</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; state, getters,doAdd,doSub &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-5-vant组件库的使用"><a href="#2-5-vant组件库的使用" class="headerlink" title="2.5 vant组件库的使用"></a>2.5 vant组件库的使用</h3><h3 id="2-5-1-全局引入"><a href="#2-5-1-全局引入" class="headerlink" title="2.5.1 全局引入"></a>2.5.1 全局引入</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装vant-ui</span></span><br><span class="line"><span class="comment">//注意：3.0项目中安装vue@next</span></span><br><span class="line">npm i vant@next -S</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.main.ts全局引入Vant UI的样式以及组件库</span></span><br><span class="line"><span class="keyword">import</span> Vant from <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vant/lib/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line">createApp(App).use(Vant).use(store).use(router).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.Home.vue中使用vant组件库</span></span><br><span class="line">&lt;van-button type=<span class="string">&quot;default&quot;</span> @click=<span class="string">&quot;showPopup&quot;</span>&gt;默认按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=<span class="string">&quot;primary&quot;</span>&gt;主要按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=<span class="string">&quot;info&quot;</span>&gt;信息按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=<span class="string">&quot;warning&quot;</span>&gt;警告按钮&lt;/van-button&gt;</span><br><span class="line">&lt;van-button type=<span class="string">&quot;danger&quot;</span>&gt;危险按钮&lt;/van-button&gt;</span><br><span class="line"></span><br><span class="line">&lt;van-popup v-model:show=<span class="string">&quot;flag&quot;</span>&gt;内容&lt;/van-popup&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; computed, defineComponent, ref &#125; from <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title">defineComponent</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  name: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  components: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  setup() &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> flag = ref(<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">const</span> showPopup = ()=&gt;&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      flag.value = <span class="literal">true</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123; flag,showPopup &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-5-2-按需加载"><a href="#2-5-2-按需加载" class="headerlink" title="2.5.2 按需加载"></a>2.5.2 按需加载</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装babel-plugin-import</span></span><br><span class="line">npm i babel-plugin-<span class="keyword">import</span> -D</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.修改babel.config.js</span></span><br><span class="line"><span class="keyword">module</span>.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    <span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    [<span class="string">&#x27;import&#x27;</span>, &#123;</span><br><span class="line">      libraryName: <span class="string">&#x27;vant&#x27;</span>,</span><br><span class="line">      libraryDirectory: <span class="string">&#x27;es&#x27;</span>,</span><br><span class="line">      style: <span class="literal">true</span></span><br><span class="line">    &#125;, <span class="string">&#x27;vant&#x27;</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.修改main.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Button,Popup &#125; from <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line">createApp(App).use(Button).use(Popup).use(store).use(router).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.Home.vue使用vant组件</span></span><br><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">    &lt;van-button type=<span class="string">&quot;default&quot;</span> @click=<span class="string">&quot;showPopup&quot;</span>&gt;默认按钮&lt;/van-button&gt;</span><br><span class="line">    &lt;van-button type=<span class="string">&quot;primary&quot;</span>&gt;主要按钮&lt;/van-button&gt;</span><br><span class="line">    &lt;van-button type=<span class="string">&quot;info&quot;</span>&gt;信息按钮&lt;/van-button&gt;</span><br><span class="line">    &lt;van-button type=<span class="string">&quot;warning&quot;</span>&gt;警告按钮&lt;/van-button&gt;</span><br><span class="line">    &lt;van-button type=<span class="string">&quot;danger&quot;</span>&gt;危险按钮&lt;/van-button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;van-popup v-model:show=<span class="string">&quot;flag&quot;</span>&gt;内容&lt;/van-popup&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-vue3-0和vue2-0比较"><a href="#2-6-vue3-0和vue2-0比较" class="headerlink" title="2.6 vue3.0和vue2.0比较"></a>2.6 vue3.0和vue2.0比较</h3><p>vue3.0 的发布与 vue2.0 相比，优势主要体现在：更快、更小、更易维护、更易于原生、让开发者更轻松；</p>
<p>更快</p>
<p>　　1、virtual DOM 完全重写，mounting &amp; patching 提速 100%；</p>
<p>　　2、更多编译时 （compile-time）提醒以减少 runtime 开销；</p>
<p>　　3、基于 Proxy 观察者机制以满足全语言覆盖以及更好的性能；</p>
<p>　　4、放弃 Object.defineProperty ，使用更快的原生 Proxy；</p>
<p>　　5、组件实例初始化速度提高 100%;</p>
<p>　　6、提速一倍/内存使用降低一半；</p>
<p>更小</p>
<p>　　1、Tree-shaking 更友好；（tree shaking 是一个术语，通常用于描述移除  上下文中的未引用代码(dead-code)）</p>
<p>　　2、新的 core runtime：~ 10kb gzipped；</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://baidu.com">zwt</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://zwt.com">https://zwt.com</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">此文章版權歸zwt所有，如有轉載，請註明來自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/./img/3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2021/09/19/%E5%93%88%E5%93%88%E5%93%88/"><img class="prev-cover" src="/./img/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">微信小程序</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/wx.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zwt</div><div class="author-info__description">欢迎您的访问</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zwt1128/zwt1128.github.io"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zwt1128" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/zwt1128.github.io" target="_blank" title="博客"><i class="fa-solid fa-wifi"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">欢迎来到zwt的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Vue-cli%E8%84%9A%E6%89%8B%E6%9E%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">1. Vue&#x2F;cli脚手架介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%AE%89%E8%A3%85vue-cli%E5%88%9B%E5%BB%BAVue2-x%E9%A1%B9%E7%9B%AE"><span class="toc-text">1.1 安装vue-cli创建Vue2.x项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-windows-32%E4%BD%8D-npm%E8%A3%85%E4%B8%8D%E4%B8%8Avue-cli%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">1.2 windows(32位) npm装不上vue&#x2F;cli的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-vue-config-js%E9%85%8D%E7%BD%AE"><span class="toc-text">1.3 vue.config.js配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-Eslint%E6%A0%BC%E5%BC%8F%E5%8C%96-vue%E6%96%87%E4%BB%B6"><span class="toc-text">1.4 Eslint格式化.vue文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eslint%E9%85%8D%E7%BD%AE-rules%E8%A7%84%E5%88%99"><span class="toc-text">eslint配置(rules规则)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Vue3-0%E4%BB%8B%E7%BB%8D"><span class="toc-text">2. Vue3.0介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Vue3-0-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-text">2.1 Vue3.0 项目创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Vue-composition-API-%E5%87%BD%E6%95%B0%E5%BC%8Fapi"><span class="toc-text">2.2 Vue composition API (函数式api)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-defineComponent"><span class="toc-text">2.2.1 defineComponent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-setup"><span class="toc-text">2.2.2 setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-ref"><span class="toc-text">2.2.3 ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-reactive"><span class="toc-text">2.2.4 reactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-toRefs"><span class="toc-text">2.2.5 toRefs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-6-watch%E5%92%8Ccomputed"><span class="toc-text">2.2.6 watch和computed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-7-props-%E5%92%8C-context"><span class="toc-text">2.2.7 props 和 context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-8-%E8%BF%87%E6%BB%A4%E5%99%A8%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-text">2.2.8 过滤器、自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">a) 过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-text">b) 自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-9-ref%E5%BC%95%E7%94%A8%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0"><span class="toc-text">2.2.9 ref引用页面元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-10-vue3-0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-text">2.2.10 vue3.0生命周期钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-vue-router%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2.3 vue-router的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.3.1 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0"><span class="toc-text">2.3.2 动态路由参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82"><span class="toc-text">2.3.3 路由传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-text">2.3.4 编程式导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-5-%E5%AF%BC%E8%88%AA%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-text">2.3.5 导航钩子函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E8%B7%AF%E7%94%B1%E7%BA%A7%E7%9A%84%E5%AF%BC%E8%88%AA%E9%92%A9%E5%AD%90"><span class="toc-text">a) 路由级的导航钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-%E5%85%A8%E5%B1%80%E7%9A%84%E5%AF%BC%E8%88%AA%E9%92%A9%E5%AD%90"><span class="toc-text">b) 全局的导航钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E7%BB%84%E4%BB%B6%E7%BA%A7%E7%9A%84%E5%AF%BC%E8%88%AA%E9%92%A9%E5%AD%90"><span class="toc-text">c) 组件级的导航钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-vuex%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2.4 vuex的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-vant%E7%BB%84%E4%BB%B6%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2.5 vant组件库的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-%E5%85%A8%E5%B1%80%E5%BC%95%E5%85%A5"><span class="toc-text">2.5.1 全局引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD"><span class="toc-text">2.5.2 按需加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-vue3-0%E5%92%8Cvue2-0%E6%AF%94%E8%BE%83"><span class="toc-text">2.6 vue3.0和vue2.0比较</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/09/19/hello-world/" title="TypeScript"><img src="/./img/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TypeScript"/></a><div class="content"><a class="title" href="/2021/09/19/hello-world/" title="TypeScript">TypeScript</a><time datetime="2021-09-19T12:00:34.000Z" title="Created 2021-09-19 20:00:34">2021-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/19/Nuxt/" title="Nuxt"><img src="/./img/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nuxt"/></a><div class="content"><a class="title" href="/2021/09/19/Nuxt/" title="Nuxt">Nuxt</a><time datetime="2021-09-19T12:00:34.000Z" title="Created 2021-09-19 20:00:34">2021-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/19/%E5%93%88%E5%93%88%E5%93%88/" title="微信小程序"><img src="/./img/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="微信小程序"/></a><div class="content"><a class="title" href="/2021/09/19/%E5%93%88%E5%93%88%E5%93%88/" title="微信小程序">微信小程序</a><time datetime="2021-09-19T12:00:34.000Z" title="Created 2021-09-19 20:00:34">2021-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/19/%E4%BD%A0%E5%A5%BD/" title="Vue3.0"><img src="/./img/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue3.0"/></a><div class="content"><a class="title" href="/2021/09/19/%E4%BD%A0%E5%A5%BD/" title="Vue3.0">Vue3.0</a><time datetime="2021-09-19T12:00:34.000Z" title="Created 2021-09-19 20:00:34">2021-09-19</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/./img/3.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By zwt</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">谢谢阅读我的博客</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>